<div *ngIf="_game.gameIsFinished">
  <div id="resultsModal" class="modal">

    <div *ngIf="isBestTime() && isFirst() && !showGameResults" class="modal-content">
      <h1>CONGRATULATIONS YOU WON</h1>
      <div class="input-row">Please enter your name
        <input (input)="enterName($event.target.value)" />
      </div>
      <h1>BEST TIMES</h1>
      <li *ngFor="let time of bestTimes()">
          <span *ngIf = "time === _game.gameTime" class = "bestTime">{{bestTimeName}}</span>
          <span>{{time}} seconds</span>
      </li>
    <button (click)="findGameResults()">Game results</button>
    </div>

    <div *ngIf="!isBestTime() && !showGameResults" class="modal-content">
      <h1>BETTER LUCK NEXT TIME</h1>
      <h1>BEST TIMES</h1>
      <li *ngFor="let time of bestTimes()">
        <span>{{time}} seconds</span>
      </li>
    <button (click)="findGameResults()">Game results</button>
    </div>
  

  <div *ngIf="showGameResults" class="modal-content">
      <h1>THIS RACE RESULTS</h1>
      <table>
        <tr>
          <th>Position</th>
          <th>Player</th>
          <th>Game Time</th>
          <th>Lap Times</th>
        </tr>
        <ng-container *ngFor="let stat of positionedRaceStats; let index = index">
            <tr>
              <td>{{index+1}}</td>
              <td>{{stat.player}}</td>
              <td>{{stat.gameTime}}</td>
              <td><li *ngFor= "let lapTime of stat.lapTimes; let index = index">
                <span>lap {{index+1}}: {{lapTime}}s</span>
              </li>
              </td>
            </tr>
        </ng-container>
      </table>
  </div>
  </div>
  
</div>